## General Setings ##

# Enable mouse support
set -g mouse on

# Use Vim keybindings in copy mode
setw -g mode-keys vi

# Enable system clipboard
set-option -g set-clipboard on

# Enable 256-color terminal
set -g default-terminal "screen-256color"
set -ag terminal-overrides ",xterm-256color:Tc"

## UI Customization

# Status bar colors and layout
set -g status-bg colour235
set -g status-fg colour248
set -g status-interval 1

# Colourful pane borders
set -g pane-border-style fg=colour241
set -g pane-active-border-style fg=colour33

# Active/inactive window formatting
setw -g window-status-current-format "#[fg=colour33]#[bold] #I:#W #[default]"
setw -g window-status-format "#[fg=colour244] #I:#W #[default]"

# Optionally use powerline-shell (if it is installed)
set -g status-left "#(powerline-shell --shell tmux)"

# Copy mode (Wayland clipboard with wl-copy)
bind-key -T copy-mode Enter send-keys -X copy-pipe-and-cancel "wl-copy"
bind-key -T copy-mode-vi Enter send-keys -X copy-pipe-and-cancel "wl-copy"


## Plugin Configuration

# List of TPM plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'

# tmux-resurrect: restore nvim sessions properly
set -g @resurrect-strategy-nvim 'session'

# tmux-continuum: auto-save and auto-restore
set -g @continuum-restore 'on'
set -g @resurrect-capture-pane-contents 'on'
set -g @continuum-save-interval '10'  # optional: save every 10 minutes

run-shell "powerline-daemon -q"
source "/home/sayat/.local/lib/python3.10/site-packages/powerline/bindings/tmux/powerline.conf"

# TPM Initialization (always keep at the end)
run '~/.tmux/plugins/tpm/tpm'
